<!-- Main Content -->
<div id="mail-archiver-container">
  <!-- Date Picker -->
  <div id="header-bar">
    <mat-form-field id="calender-bar" appearance="none">
      <mat-label></mat-label>  
      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
        <input matInput matStartDate formControlName="start" placeholder="Start date">
        <input matInput matEndDate formControlName="end" placeholder="End date">
      </mat-date-range-input>
      <mat-datepicker-toggle matPrefix [for]="picker"><img id="calender-picker" matDatepickerToggleIcon src="../assets/img/icon_calender.svg"/></mat-datepicker-toggle>
      <mat-date-range-picker #picker disabled="false"></mat-date-range-picker>
      
      <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid start date</mat-error>
      <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error>
    </mat-form-field>
    <!-- Search Bar -->
    <mat-form-field [ngClass]="searchToggle ? 'show' : 'hide'" id="search-bar" floatLabel="never" appearance="none">
      <!--<mat-label></mat-label>-->
      <input matInput placeholder="Search" [formControl]="textFilter">
    </mat-form-field>
    <button mat-flat-button (click)="toggleSearchBar()"><img id="search-button" src="../assets/img/icon_search.svg"/></button>
  </div>

  <!-- Email List -->

  <mat-list role="list" >
    <mat-divider></mat-divider>
    <mat-list-item *ngIf="dataSource"  id="email-list-header" role="listitem">
      <div class="email-header-container">
        <div class="email-from-address"><p>From</p></div>
        <div class="email-to-address"><p>To</p></div>
        <div class="email-subject"><p>Subject</p></div>
        <div class="email-date"><p>Date</p></div>
      </div>
      </mat-list-item>
    <mat-divider></mat-divider>
    <mat-list-item *ngFor="let data of dataSource" id="email-list-item" role="listitem">
      <div class="email-container">
        <div class="email-image"><img src="../assets/img/icon_mail_sp.svg"/></div>
        <div class="email-from-address"><p>{{data.from}}</p></div>
        <div class="email-to-address"><p>{{data.to}}</p></div>
        <div class="email-reply-count"><p *ngIf="data.reply">{{data.reply.length}}</p></div>
        <div class="email-subject"><p>{{data.subject}}</p></div>
        <div class="email-attachment"><img *ngIf="data.attachment" src="../assets/img/icon_clip.svg"></div>
        <!-- Date Pipe -->
        <div class="email-date"><p>{{data.date | customDate}}</p></div>
      </div>
    </mat-list-item>
    <mat-divider></mat-divider>
  </mat-list>

<!-- End Container -->
</div>